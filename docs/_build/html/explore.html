
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Explore Datasets and Tables &#8212; Accessing WRDS Data Programmatically</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'explore';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TAQ Project in Python" href="workflow_p.html" />
    <link rel="prev" title="Setup - Authenticate to WRDS" href="setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Kellogg.png" class="logo__image only-light" alt="Accessing WRDS Data Programmatically - Home"/>
    <script>document.write(`<img src="_static/Kellogg.png" class="logo__image only-dark" alt="Accessing WRDS Data Programmatically - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Contents
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="setup.html"><span style="color:purple">Setup - Authenticate to WRDS</span></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><span style="color:purple">Explore Datasets and Tables</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow_p.html"><span style="color:purple">TAQ Project in Python</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow_r.html"><span style="color:purple">TAQ Project in R</span></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fexplore.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/explore.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1><span style="color:purple">Explore Datasets and Tables</span></h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#on-wrds-online"><span style="color:purple">On WRDS Online</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-python"><span style="color:purple">In Python</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-r"><span style="color:purple">In R</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-2"><span style="color:purple">Lab 2</span></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="explore-datasets-and-tables">
<h1><span style="color:purple">Explore Datasets and Tables</span><a class="headerlink" href="#explore-datasets-and-tables" title="Link to this heading">#</a></h1>
<section id="on-wrds-online">
<h2><span style="color:purple">On WRDS Online</span><a class="headerlink" href="#on-wrds-online" title="Link to this heading">#</a></h2>
<p>On the WRDS website, you can explore databases and their corresponding tables by navigating to the “Data Vendors” page here:</p>
<p><a class="reference external" href="https://wrds-www.wharton.upenn.edu/pages/about/data-vendors/">https://wrds-www.wharton.upenn.edu/pages/about/data-vendors/</a></p>
<p><img alt="Slide Image" src="_images/wrds_vendors.png" /></p>
<p>In order to use the Data Dictionaries, you will have to know the vendor for your database. For instance, S&amp;P Global provides the Compustat Executive Compensation database.  The Directors compensation table and its correponding variables can be found here: <a class="reference external" href="https://wrds-www.wharton.upenn.edu/data-dictionary/comp_execucomp/directorcomp/">https://wrds-www.wharton.upenn.edu/data-dictionary/comp_execucomp/directorcomp/</a></p>
</section>
<section id="in-python">
<h2><span style="color:purple">In Python</span><a class="headerlink" href="#in-python" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">wrds</span></code> package in python also allow you to explore the database and corresponding tables. Please install and load the wrds package along with any other packages you will use. If you would like to use our shared conda environment today, you can access it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">mamba</span>
<span class="n">source</span> <span class="n">activate</span> <span class="o">/</span><span class="n">kellogg</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">wrds25_env</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># packages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">wrds</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>Once you have a hidden pgpass file saved, you will not have to enter your crednetials the next time you login to the <strong>WRDS</strong> API in python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">wrds</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">wrds_username</span><span class="o">=</span><span class="s1">&#39;best-user-ever&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loading library list...
Done
</pre></div>
</div>
</div>
</div>
<p>These are the available functions in the <code class="docutils literal notranslate"><span class="pre">wrds</span></code> package:¶</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">conn.connection()</span></code> - setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conn.list_libraries()</span></code> - explore</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conn.list_tables()</span></code> - explore</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conn.describe_table()</span></code> - explore</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conn.get_table()</span></code> - queries</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conn.raw_sql()</span></code> - queries</p></li>
</ul>
<p>To get details on any of these functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">list_libraries</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on method list_libraries in module wrds.sql:

list_libraries() method of wrds.sql.Connection instance
    Return all the libraries (schemas) the user can access.
    
    :rtype: list
    
    Usage::
    &gt;&gt;&gt; db.list_libraries()
    [&#39;aha&#39;, &#39;audit&#39;, &#39;block&#39;, &#39;boardex&#39;, ...]
</pre></div>
</div>
</div>
</div>
<p>To get a list of all WRDS libraries or databases</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">libs</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">list_libraries</span><span class="p">()[</span><span class="mi">60</span><span class="p">:</span><span class="mi">95</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">libs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;comp_snapshot&#39;, &#39;comp_urq&#39;, &#39;comph&#39;, &#39;compsamp&#39;, &#39;compsamp_all&#39;, &#39;compsamp_snapshot&#39;, &#39;compseg&#39;, &#39;compsnap&#39;, &#39;contrib&#39;, &#39;contrib_as_filed_financials&#39;, &#39;contrib_ceo_turnover&#39;, &#39;contrib_char_returns&#39;, &#39;contrib_corporate_culture&#39;, &#39;contrib_general&#39;, &#39;contrib_global_factor&#39;, &#39;contrib_green_returns&#39;, &#39;contrib_intangible_value&#39;, &#39;contrib_kpss&#39;, &#39;contrib_liquidity_taq&#39;, &#39;contrib_liva&#39;, &#39;crsp&#39;, &#39;crsp_a_ccm&#39;, &#39;crsp_a_indexes&#39;, &#39;crsp_a_stock&#39;, &#39;crsp_a_treasuries&#39;, &#39;crsp_m_ccm&#39;, &#39;crsp_m_indexes&#39;, &#39;crsp_m_stock&#39;, &#39;crsp_m_treasuries&#39;, &#39;crsp_q_ccm&#39;, &#39;crsp_q_indexes&#39;, &#39;crsp_q_mutualfunds&#39;, &#39;crsp_q_stock&#39;, &#39;crsp_q_treasuries&#39;, &#39;crspm&#39;]
</pre></div>
</div>
</div>
</div>
<p>To find all the tables in certain databases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="o">.</span><span class="n">list_tables</span><span class="p">(</span><span class="n">library</span><span class="o">=</span><span class="s1">&#39;bvd_orbis_large&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ob_additional_company_info_l&#39;,
 &#39;ob_all_addresses_l&#39;,
 &#39;ob_all_cur_shh_1st_level_l&#39;,
 &#39;ob_all_subs_first_level_l&#39;,
 &#39;ob_auditors_current_l&#39;]
</pre></div>
</div>
</div>
</div>
<p>To find a description of a particular table in a database.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="o">.</span><span class="n">describe_table</span><span class="p">(</span><span class="n">library</span><span class="o">=</span><span class="s1">&#39;bvd_orbis_large&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;ob_key_financials_l&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Approximately 16803566 rows in bvd_orbis_large.ob_key_financials_l.
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>nullable</th>
      <th>type</th>
      <th>comment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bvdid</td>
      <td>True</td>
      <td>VARCHAR(50)</td>
      <td>BVD ID NUMBER</td>
    </tr>
    <tr>
      <th>1</th>
      <td>category_of_company</td>
      <td>True</td>
      <td>VARCHAR(20)</td>
      <td>CATEGORY OF THE COMPANY</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ctryiso</td>
      <td>True</td>
      <td>VARCHAR(2)</td>
      <td>COUNTRY ISO CODE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>conscode</td>
      <td>True</td>
      <td>VARCHAR(2)</td>
      <td>CONSOLIDATION CODE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>filing_type</td>
      <td>True</td>
      <td>VARCHAR(25)</td>
      <td>FILING TYPE</td>
    </tr>
    <tr>
      <th>5</th>
      <td>closdate</td>
      <td>True</td>
      <td>DATE</td>
      <td>CLOSING DATE</td>
    </tr>
    <tr>
      <th>6</th>
      <td>closdate_year</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>Year part of CLOSING DATE (created from CLOSDA...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>nr_months</td>
      <td>True</td>
      <td>VARCHAR(2)</td>
      <td>NUMBER OF MONTHS</td>
    </tr>
    <tr>
      <th>8</th>
      <td>audstatus</td>
      <td>True</td>
      <td>VARCHAR(25)</td>
      <td>AUDIT STATUS</td>
    </tr>
    <tr>
      <th>9</th>
      <td>accpractice</td>
      <td>True</td>
      <td>VARCHAR(25)</td>
      <td>ACCOUNTING PRACTICE</td>
    </tr>
    <tr>
      <th>10</th>
      <td>source</td>
      <td>True</td>
      <td>VARCHAR(50)</td>
      <td>SOURCE (FOR PUBLICLY QUOTED COMPANIES)</td>
    </tr>
    <tr>
      <th>11</th>
      <td>orig_units</td>
      <td>True</td>
      <td>VARCHAR(25)</td>
      <td>ORIGINAL UNITS</td>
    </tr>
    <tr>
      <th>12</th>
      <td>orig_currency</td>
      <td>True</td>
      <td>VARCHAR(3)</td>
      <td>ORIGINAL CURRENCY</td>
    </tr>
    <tr>
      <th>13</th>
      <td>exchrate</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>EXCHANGE RATE FROM ORIGINAL CURRENCY</td>
    </tr>
    <tr>
      <th>14</th>
      <td>opre</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>OPERATING REVENUE (TURNOVER)</td>
    </tr>
    <tr>
      <th>15</th>
      <td>plbt</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>P/L BEFORE TAX</td>
    </tr>
    <tr>
      <th>16</th>
      <td>pl</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>P/L FOR PERIOD (=NET INCOME)</td>
    </tr>
    <tr>
      <th>17</th>
      <td>cf</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>CASH FLOW</td>
    </tr>
    <tr>
      <th>18</th>
      <td>toas</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>TOTAL ASSETS</td>
    </tr>
    <tr>
      <th>19</th>
      <td>shfd</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>SHAREHOLDERS FUNDS</td>
    </tr>
    <tr>
      <th>20</th>
      <td>curr</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>CURRENT RATIO (X)</td>
    </tr>
    <tr>
      <th>21</th>
      <td>prma</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>PROFIT MARGIN (%)</td>
    </tr>
    <tr>
      <th>22</th>
      <td>rshf</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>ROE USING P/L BEFORE TAX (%)</td>
    </tr>
    <tr>
      <th>23</th>
      <td>rcem</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>ROCE USING P/L BEFORE TAX (%)</td>
    </tr>
    <tr>
      <th>24</th>
      <td>solr</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>SOLVENCY RATIO (ASSET BASED) (%)</td>
    </tr>
    <tr>
      <th>25</th>
      <td>_611</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>PRICE EARNING RATIO (X)</td>
    </tr>
    <tr>
      <th>26</th>
      <td>empl</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>NUMBER OF EMPLOYEES</td>
    </tr>
    <tr>
      <th>27</th>
      <td>astk_market_cap</td>
      <td>True</td>
      <td>DOUBLE PRECISION</td>
      <td>MARKET CAPITALISATION (MIL)</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="in-r">
<h2><span style="color:purple">In R</span><a class="headerlink" href="#in-r" title="Link to this heading">#</a></h2>
<p>These are the functions available in R:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dbConnect()</span></code> – setup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbGetQuery(wrds,</span> <span class="pre">&quot;SELECT</span> <span class="pre">schema_name</span> <span class="pre">FROM</span> <span class="pre">information_schema.schemata&quot;)</span></code> – explore libraries</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbGetQuery(wrds,</span> <span class="pre">&quot;SELECT</span> <span class="pre">table_name</span> <span class="pre">FROM</span> <span class="pre">information_schema.tables</span> <span class="pre">WHERE</span> <span class="pre">table_schema='execcomp'&quot;)</span></code> – explore tables</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbGetQuery(wrds,</span> <span class="pre">&quot;SELECT</span> <span class="pre">column_name,</span> <span class="pre">data_type</span> <span class="pre">FROM</span> <span class="pre">information_schema.columns</span> <span class="pre">WHERE</span> <span class="pre">table_schema='execcomp'</span> <span class="pre">AND</span> <span class="pre">table_name='excomp'&quot;)</span></code> – describe table</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbGetQuery(wrds,</span> <span class="pre">&quot;SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">execcomp.excomp</span> <span class="pre">LIMIT</span> <span class="pre">5&quot;)</span></code> – quick table query</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbGetQuery(wrds,</span> <span class="pre">&quot;SELECT</span> <span class="pre">...&quot;)</span></code> – raw SQL query</p></li>
</ul>
<p>To find the description of the variables in a table in R:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">rpy2</span>
<span class="o">%</span><span class="k">load_ext</span> rpy2.ipython
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The rpy2.ipython extension is already loaded. To reload it, use:
  %reload_ext rpy2.ipython
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
library(DBI)
library(RPostgres)

wrds &lt;- dbConnect(
   Postgres(),
   host = &#39;wrds-pgdata.wharton.upenn.edu&#39;,
   port = 9737,
   dbname = &#39;wrds&#39;,
   sslmode = &#39;require&#39;,
   user = &#39;best-user-ever&#39;,
   )
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
# Create SQL query
sql &lt;- paste0(&quot;
  SELECT column_name, data_type, is_nullable
  FROM information_schema.columns
  WHERE table_schema = &#39;bvd_orbis_large&#39;
    AND table_name = &#39;ob_key_financials_l&#39;
  ORDER BY ordinal_position;
&quot;)

# Execute the query
desc &lt;- dbGetQuery(wrds, sql)

print(desc)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           column_name         data_type is_nullable
1                bvdid character varying         YES
2  category_of_company character varying         YES
3              ctryiso character varying         YES
4             conscode character varying         YES
5          filing_type character varying         YES
6             closdate              date         YES
7        closdate_year  double precision         YES
8            nr_months character varying         YES
9            audstatus character varying         YES
10         accpractice character varying         YES
11              source character varying         YES
12          orig_units character varying         YES
13       orig_currency character varying         YES
14            exchrate  double precision         YES
15                opre  double precision         YES
16                plbt  double precision         YES
17                  pl  double precision         YES
18                  cf  double precision         YES
19                toas  double precision         YES
20                shfd  double precision         YES
21                curr  double precision         YES
22                prma  double precision         YES
23                rshf  double precision         YES
24                rcem  double precision         YES
25                solr  double precision         YES
26                _611  double precision         YES
27                empl  double precision         YES
28     astk_market_cap  double precision         YES
</pre></div>
</div>
</div>
</div>
</section>
<section id="lab-2">
<h2><span style="color:purple">Lab 2</span><a class="headerlink" href="#lab-2" title="Link to this heading">#</a></h2>
<div class="admonition-lab-2-obtain-directors-compensation-table admonition">
<p class="admonition-title">Lab 2 - Obtain Directors Compensation Table</p>
<p>Either in R or Python:</p>
<ol class="arabic simple">
<li><p>Obtain the variable list for the Director’s Compensation Table in Compustat</p></li>
<li><p>Explore the variable list for any table you like</p></li>
</ol>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="setup.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span style="color:purple">Setup - Authenticate to WRDS</span></p>
      </div>
    </a>
    <a class="right-next"
       href="workflow_p.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span style="color:purple">TAQ Project in Python</span></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#on-wrds-online"><span style="color:purple">On WRDS Online</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-python"><span style="color:purple">In Python</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#in-r"><span style="color:purple">In R</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-2"><span style="color:purple">Lab 2</span></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Research Support
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>